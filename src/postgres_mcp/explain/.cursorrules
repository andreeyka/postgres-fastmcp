# Code Style Rules for database_health Module

## Type Annotations

### Use `from __future__ import annotations`
- **ALWAYS** add `from __future__ import annotations` at the top of Python files (after module docstring, before other imports)
- This allows using forward references and cleaner type annotations without quotes

### Modern Type Syntax
- Use modern type hints: `str | None` instead of `Optional[str]`
- Use `from __future__ import annotations` to avoid quoting forward references
- All `__init__` methods must have `-> None` return type annotation

## Docstrings

### Format: Google Style (English)
- All public classes must have docstrings
- All public methods must have docstrings
- Use Google Style format with Args and Returns sections
- Docstrings must be in English

### Example Class Docstring:
```python
class ExampleClass:
    """Brief description of the class.

    Detailed description if needed.
    """
```

### Example Method Docstring:
```python
async def method_name(self, param: str) -> str:
    """Brief description of the method.

    Args:
        param: Description of the parameter.

    Returns:
        Description of the return value.
    """
```

## Imports

### Use Absolute Imports
- **ALWAYS** use absolute imports for imports from parent modules
- Use `from postgres_mcp.module import Class` instead of `from ..module import Class`
- This improves code clarity and avoids import path issues

### Type-Only Imports
- **ALWAYS** move imports used only for type annotations into `TYPE_CHECKING` block
- This avoids circular import issues and improves runtime performance
- Imports used in actual code (not just type hints) should remain at module level

### Example:
```python
from __future__ import annotations

from typing import TYPE_CHECKING

from postgres_mcp.sql import SafeSqlDriver  # Used in code

if TYPE_CHECKING:
    from postgres_mcp.sql import SqlDriver  # Used only for type annotations
```

### Bad Example:
```python
# Bad - relative import from parent
from ..sql import SqlDriver

# Bad - type-only import at module level
from postgres_mcp.sql import SqlDriver  # Only used in type hints
```

## Important Notes
- Do NOT change code logic, only formatting and documentation
- Preserve all existing functionality

